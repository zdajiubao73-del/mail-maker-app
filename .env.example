# =============================================================================
# 環境変数テンプレート
# このファイルを .env.local にコピーして値を設定してください:
#   cp .env.example .env.local
# =============================================================================

# --- Supabase ---
EXPO_PUBLIC_SUPABASE_URL=
EXPO_PUBLIC_SUPABASE_ANON_KEY=

# --- AI ---
# "true" に設定するとモックAI生成を使用（開発用）
EXPO_PUBLIC_USE_MOCK_AI=

# --- Google OAuth ---
# Google Cloud Console → APIs & Services → Credentials → OAuth 2.0 Client ID (iOS)
EXPO_PUBLIC_GOOGLE_CLIENT_ID=

# --- Microsoft OAuth ---
# Azure Portal → App registrations → Application (client) ID
EXPO_PUBLIC_MICROSOFT_CLIENT_ID=

# --- RevenueCat ---
EXPO_PUBLIC_REVENUECAT_IOS_KEY=
EXPO_PUBLIC_REVENUECAT_ANDROID_KEY=

# --- Sentry ---
EXPO_PUBLIC_SENTRY_DSN=

# =============================================================================
# Edge Function 環境変数（supabase secrets set で設定）
# =============================================================================
# OPENAI_API_KEY          — OpenAI API キー
# OPENAI_MODEL            — 使用モデル（デフォルト: gpt-4o-mini）
# GOOGLE_CLIENT_ID        — サーバーサイドトークンリフレッシュ用（EXPO_PUBLIC_GOOGLE_CLIENT_ID と同値）
# MICROSOFT_CLIENT_ID     — サーバーサイドトークンリフレッシュ用（EXPO_PUBLIC_MICROSOFT_CLIENT_ID と同値）
# TOKEN_ENCRYPTION_KEY    — OAuthトークンDB暗号化キー（生成: openssl rand -base64 32）

# =============================================================================
# キーローテーション手順
# =============================================================================
# 1. TOKEN_ENCRYPTION_KEY のローテーション:
#    a. 新しいキーを生成: openssl rand -base64 32
#    b. supabase secrets set TOKEN_ENCRYPTION_KEY=<new_key>
#    c. Edge Functions を再デプロイ: supabase functions deploy
#    d. 注意: 既存の暗号化トークンは旧キーで復号不可になるため、
#       ユーザーは再認証が必要になります
#
# 2. OPENAI_API_KEY のローテーション:
#    a. OpenAI ダッシュボードで新しいキーを生成
#    b. supabase secrets set OPENAI_API_KEY=<new_key>
#    c. 旧キーを OpenAI ダッシュボードで失効
#
# 3. Google/Microsoft Client ID の変更:
#    a. 新しいクライアントIDを各コンソールで作成
#    b. .env.local と supabase secrets の両方を更新
#    c. アプリを再ビルド & Edge Functions を再デプロイ
