# 004: API通信レイヤー実装

## Phase
Phase 1 - MVP

## 概要
フロントエンド⇔バックエンド間のHTTP通信クライアントを設計・実装する。

## 背景
メール生成、連絡先CRUD、認証などすべてのバックエンド通信で共通のHTTPクライアントが必要。タイムアウト30秒、エラーハンドリング、認証トークン自動付与を統一的に管理する。

## TODO

- [ ] HTTPクライアントの選定（fetch / axios）
- [ ] 共通APIクライアントの実装（`lib/api.ts`）
  - [ ] ベースURL設定
  - [ ] 認証トークンの自動付与（Authorizationヘッダー）
  - [ ] タイムアウト30秒の設定
  - [ ] 共通エラーハンドリング（401時のリフレッシュ、ネットワークエラー等）
- [ ] レスポンス型の定義
- [ ] ローディング・エラー状態を管理するカスタムフックの実装

## 完了条件
- 共通APIクライアントが`lib/api.ts`に存在する
- 認証トークンが自動付与される
- タイムアウト・エラーハンドリングが動作する
